# yamllint disable
---
- project:
    merge-mode: squash-merge
    templates:
      - ansible-collection
    vars:
      ansible_collection_namespace: "opentelekomcloud"
      ansible_collection_name: "cloud"
    check:
      jobs:
        - otc-ansible-collection-test-integration-eu-de:
            files: &integration-files
              - ^plugins/
              - ^tests/integration/
            vars: &vars-eu-de
              ansible_test_exclude_tests: []
        - otc-ansible-collection-test-integration-eu-nl:
            files: *integration-files
            vars: &vars-eu-nl
              ansible_test_exclude_tests:
                - dns/public/
                - storage/vbs/
    gate:
      jobs:
        - otc-ansible-collection-test-integration-eu-de:
            files: *integration-files
            vars: *vars-eu-de
        - otc-ansible-collection-test-integration-eu-nl:
            files: *integration-files
            vars: *vars-eu-nl
